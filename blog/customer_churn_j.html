<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <title>Andrew Carr blog</title>
    <meta name="description" content="a blog by Andrew Carr about data science with EsoLangs">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
   
    <link rel="shortcut icon" href="">
    <link rel="apple-touch-icon" href="blog_files/blog.png">    
    <link rel="stylesheet" type="text/css" href="blog_files/screen.css">
    <link rel="stylesheet" type="text/css" href="blog_files/css.css">
    <link rel="stylesheet" type="text/css" href="blog_files/defaulten.css">
    <!-- <script src="https://cdn.jsdelivr.net/npm/texme@0.7.0"></script> -->

</head>
<body class="home-template">
    <!-- Theme modified from the wonderful Coding Horror blog https://blog.codinghorror.com/ -->

    <header class="site-head">
        <div class="site-head-content">
            <a class="blog-logo" href="https://andrewnc.github.io/blog/blog.html"><img src="blog_files/blog.png" alt="Eso Lang Logo" width="128" height="64"></a>
            <h1 class="blog-title"><a href="https://andrewnc.github.io/blog/blog.html">Andrew Carr blog</a></h1>
            <h2 class="blog-description">Data science in esoteric programming languages</h2>
        </div>
    </header>

<div class="wrap clearfix">
    <div class="clearfix"></div>
        
    <main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <span class="post-meta"><time datetime="2019-11-29">29 Nov 2019</time> </span>
            <h2 class="post-title"><a href="https://andrewnc.github.io/blog/customer_churn_j.html">Customer Churn in J</a></h2>
        </header>
        <section class="post-content">
            <p>work in progress</p>
            <div class="kg-card-markdown">
                <pre>head =: dyad : '(i. x) { y'<br />5 head df</pre>
                <pre>
┌──────────┬──────┬─────────────┬───────┬──────────┬──────┬────────────┬────────────────┬───────────────┬──────────────┬────────────┬────────────────┬───────────┬───────────┬───────────────┬──────────────┬────────────────┬─────────────────────────┬────────...
│customerID│gender│SeniorCitizen│Partner│Dependents│tenure│PhoneService│MultipleLines   │InternetService│OnlineSecurity│OnlineBackup│DeviceProtection│TechSupport│StreamingTV│StreamingMovies│Contract      │PaperlessBilling│PaymentMethod            │MonthlyC...
├──────────┼──────┼─────────────┼───────┼──────────┼──────┼────────────┼────────────────┼───────────────┼──────────────┼────────────┼────────────────┼───────────┼───────────┼───────────────┼──────────────┼────────────────┼─────────────────────────┼────────...
│7590-VHVEG│Female│0            │Yes    │No        │1     │No          │No phone service│DSL            │No            │Yes         │No              │No         │No         │No             │Month-to-month│Yes             │Electronic check         │29.85   ...
├──────────┼──────┼─────────────┼───────┼──────────┼──────┼────────────┼────────────────┼───────────────┼──────────────┼────────────┼────────────────┼───────────┼───────────┼───────────────┼──────────────┼────────────────┼─────────────────────────┼────────...
│5575-GNVDE│Male  │0            │No     │No        │34    │Yes         │No              │DSL            │Yes           │No          │Yes             │No         │No         │No             │One year      │No              │Mailed check             │56.95   ...
├──────────┼──────┼─────────────┼───────┼──────────┼──────┼────────────┼────────────────┼───────────────┼──────────────┼────────────┼────────────────┼───────────┼───────────┼───────────────┼──────────────┼────────────────┼─────────────────────────┼────────...
│3668-QPYBK│Male  │0            │No     │No        │2     │Yes         │No              │DSL            │Yes           │Yes         │No              │No         │No         │No             │Month-to-month│Yes             │Mailed check             │53.85   ...
├──────────┼──────┼─────────────┼───────┼──────────┼──────┼────────────┼────────────────┼───────────────┼──────────────┼────────────┼────────────────┼───────────┼───────────┼───────────────┼──────────────┼────────────────┼─────────────────────────┼────────...
│7795-CFOCW│Male  │0            │No     │No        │45    │No          │No phone service│DSL            │Yes           │No          │Yes             │Yes        │No         │No             │One year      │No              │Bank transfer (automatic)│42.3    ...
└──────────┴──────┴─────────────┴───────┴──────────┴──────┴────────────┴────────────────┴───────────────┴──────────────┴────────────┴────────────────┴───────────┴───────────┴───────────────┴──────────────┴────────────────┴─────────────────────────┴────────...
                </pre>
                <pre>col =: dyad : 'makenum }. x {"1 y'<br />18 col df</pre>
                <pre>dstat 18 col df<br />sample size:       7043<br />minimum:          18.25<br />maximum:         118.75<br />median:           70.35<br />mean:           64.7617<br />std devn:         30.09<br />skewness:     _0.220477<br />kurtosis:       1.74278</pre>
                <pre># 18 col df<br />7043<br /># ~. 18 col df<br />1585</pre>
                <pre>no_inds =: (< 'No') = _1 col df<br />I. 1 1 0 1 0 0 1 1 0 1 1 1 1 0 1 1 1 1 0 1 0 1<br />0 1 3 6 7 9 10 11 12 14 15 16 17 19 21</pre>
                <pre>(I. no_inds) { _1 col df</pre>
                <pre>┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬...
│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│...
└──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴...</pre>
                <p>Alternatively, you can mask the array</p>
                <pre>no_inds # _1 col df</pre>
                <pre>┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬...
│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│No│...
└──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴...</pre>
                <pre>columns =: monad : '> 0 { y'<br />columns df<br />customerID      
gender          
SeniorCitizen   
Partner         
Dependents      
tenure          
PhoneService    
MultipleLines   
InternetService 
OnlineSecurity  
OnlineBackup    
DeviceProtection
TechSupport     
StreamingTV     
StreamingMovies 
Contract        
PaperlessBilling
PaymentMethod   
MonthlyCharges  
TotalCharges    
Churn  </pre>
                <p>Wow, I wrote a verb that emulates Counter in python</p>
                <pre>counter =: monad : '(|: ,: (, ~. y)) ,. (> < each |: ,: (#/.~ y))'<br />counter _1 col df<br />
┌───┬────┐
│No │5174│
├───┼────┤
│Yes│1869│
└───┴────┘</pre>
                <p>You have to box the input to counter</p>
                <pre>counter ;/ ? 2000 # 10
┌─┬───┐
│3│212│
├─┼───┤
│5│189│
├─┼───┤
│7│207│
├─┼───┤
│1│200│
├─┼───┤
│9│175│
├─┼───┤
│0│200│
├─┼───┤
│4│204│
├─┼───┤
│8│232│
├─┼───┤
│2│197│
├─┼───┤
│6│184│
└─┴───┘</pre>
                <pre>counter ;/ 'a really long sentence'
┌─┬─┐
│a│2│
├─┼─┤
│ │3│
├─┼─┤
│r│1│
├─┼─┤
│e│4│
├─┼─┤
│l│3│
├─┼─┤
│y│1│
├─┼─┤
│o│1│
├─┼─┤
│n│3│
├─┼─┤
│g│1│
├─┼─┤
│s│1│
├─┼─┤
│t│1│
├─┼─┤
│c│1│
└─┴─┘</pre>
                <pre>'bar; xlabel No , Yes; title Churned Customers' plot > 1 {"1 counter _1 col df</pre>
                <img src="blog_files/churn_bar1.png" />

<!-- (|: ,: (, ~. _1 col df)) ,. (> < each |: ,: (#/.~ _1 col df)) -->
               <p></p> 

                
                
            </div> 
        </section>
    </article>
    <nav class="pagination" role="navigation">
    <!-- <span class="page-number">Page 1 of 286</span> -->
        <a class="older-posts" href="https://andrewnc.github.io/blog/list.html">Other Posts <span aria-hidden="true">→</span></a>
</nav>


</main>
<aside class="sidebar">

<!-- Add a hire me link -->
<h3>Resources</h3>

<ul>
    <li><a href="https://andrewnc.github.io/">About Me</a></li>    
</ul>

<ul>
</ul>

<p>This blog has been continuously published since 2019</p>

<footer class="site-footer">
    <section class="copyright">Copyright <a rel="author" href="https://linkedin.com/in/andrewnc">Andrew Carr</a> © 2019<br>
</footer></aside>
    </div>
       </body>
       <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-100415142-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-100415142-2');
</script>

<!-- This is how you load math if you want to -->
<script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
          }
        };
</script>
<script id="MathJax-script" async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</html>